@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* --- DEFAULT THEME: Zen Cyberpunk (Dark) --- */
    --background: 230 20% 5%; 
    --foreground: 210 40% 98%; 

    --card: 230 10% 10%; 
    --card-foreground: 210 40% 98%;
    --popover: 230 10% 10%;
    --popover-foreground: 210 40% 98%;

    --primary: 280 90% 60%; /* Neon Purple */
    --primary-foreground: 210 40% 98%;
    --secondary: 230 10% 15%;
    --secondary-foreground: 210 40% 98%;

    --muted: 230 10% 10%;
    --muted-foreground: 215 14% 65%;

    --accent: 185 90% 60%; /* Electric Cyan */
    --accent-foreground: 224 71% 4%;

    --border: 230 10% 20%;
    --input: 230 10% 15%;
    --ring: 280 90% 60%;

    --radius: 0.75rem;
  }

  /* --- LIGHT MODE OVERRIDES --- */
  .light {
    --background: 210 40% 98%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 262.1 83.3% 57.8%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 199 89% 48%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 262.1 83.3% 57.8%;
  }

  /* --- ROOM SPECIFIC THEMES --- */

  /* Deep Cave: Pitch black with subtle purple accents */
  body.deep-cave {
    --background: 230 30% 2%;
    --card: 230 30% 4%;
    --primary: 280 50% 40%;
    --accent: 230 20% 30%;
    --border: 230 20% 10%;
  }

  /* Library: Warm, low-contrast, mahogany and gold */
  body.library {
    --background: 25 30% 7%;
    --card: 25 30% 10%;
    --foreground: 30 40% 90%;
    --primary: 35 60% 50%; /* Warm Amber */
    --accent: 20 50% 40%; /* Deep Wood */
    --border: 25 20% 15%;
    --secondary: 25 20% 12%;
  }

  /* Cyberpunk: High-octane neon Pink and Cyan */
  body.cyberpunk {
    --primary: 320 100% 60%; /* Neon Pink */
    --accent: 180 100% 50%; /* Pure Cyan */
    --background: 250 40% 4%;
    --card: 250 40% 6%;
    --border: 320 50% 20%;
  }

  /* Morning Sunlight: Bright, warm, productive morning vibes */
  body.morning-sunlight {
    --background: 45 100% 98%;
    --foreground: 20 20% 10%;
    --card: 0 0% 100%;
    --primary: 40 90% 50%; /* Golden Sun */
    --accent: 15 80% 60%; /* Morning Sky */
    --secondary: 45 50% 94%;
    --border: 45 20% 85%;
    --muted-foreground: 40 10% 40%;
  }
  
  body {
    background: radial-gradient(circle at center, hsl(var(--background)) 0%, #000000 100%);
    @apply text-foreground transition-colors duration-500;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* In light-based themes, we don't want the pure black radial gradient */
  body.morning-sunlight, .light body {
    background: hsl(var(--background));
  }
}

@layer utilities {
  .glass-card {
    @apply bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl transition-all duration-300;
  }
  
  /* Theme-specific card adjustments */
  body.morning-sunlight .glass-card, .light .glass-card {
    @apply bg-white/60 border-black/5 shadow-sm;
  }

  .dopamine-click {
    @apply transition-all active:scale-[0.98] hover:scale-[1.02] hover:border-primary/50 relative overflow-hidden;
  }
  
  .shadow-glow {
    box-shadow: 0 0 15px hsl(var(--primary) / 0.3);
  }

  .animate-timer-breathing {
    animation: timer-breathing 4s ease-in-out infinite;
  }
}

@keyframes timer-breathing {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.02); opacity: 0.8; }
}